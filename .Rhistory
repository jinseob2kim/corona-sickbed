### import from dropbox ----
library(rdrop2)
token <- readRDS("token.rds")
### Report
library(rmarkdown)
file_info <- reactive({
file <- drop_dir("corona19", dtoken = token) %>%
select(name, client_modified) %>%
arrange(desc(client_modified))
file_name <- file %>%
pull(name) %>%
.[1]
file_date <- file %>%
pull(client_modified) %>%
.[1] %>%
lubridate::ymd_hms() + 60*60*9
if (!dir.exists("data")){
dir.create("data")
}
if (length(list.files("data/")) > 0){
file.remove(paste0("data/", list.files("data/")))
}
paste0("corona19/", file_name) %>% drop_download(local_path = "data", overwrite = TRUE, dtoken = token)
return(list(file_name, file_date))
})
file <- drop_dir("corona19", dtoken = token) %>%
select(name, client_modified) %>%
arrange(desc(client_modified))
# library ----
library(tidyverse)
library(shiny)
library(shinydashboard)
library(shinycustomloader)
library(shiny.info)
library(shinyjs)
library(leaflet)
library(leaflet.minicharts)
library(highcharter)
library(DT)
library(knitr)
library(lubridate)
library(purrr)
## Make login DB
library(shinymanager)
### import from dropbox ----
library(rdrop2)
token <- readRDS("token.rds")
### Report
library(rmarkdown)
file <- drop_dir("corona19", dtoken = token) %>%
select(name, client_modified) %>%
arrange(desc(client_modified))
file_name <- file %>%
pull(name) %>%
.[1]
file_date <- file %>%
pull(client_modified) %>%
.[1] %>%
lubridate::ymd_hms() + 60*60*9
if (!dir.exists("data")){
dir.create("data")
}
if (length(list.files("data/")) > 0){
file.remove(paste0("data/", list.files("data/")))
}
paste0("corona19/", file_name) %>% drop_download(local_path = "data", overwrite = TRUE, dtoken = token)
runApp()
library(dplyr)
library(ggplot2)
library(tidyr)
library(gridExtra)
## Apply font from local ttf file
library(showtext)
showtext.opts(dpi = 330)                                ## same to rmd chunk
font_add("GyeonggiBatangR", "/home/js/ShinyApps/corona-sickbed/www/Batang_Regular.ttf")
font_add("GyeonggiBatangB", "Batang_Bold.ttf")
